<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Caesar Cipher</title>
</head>
<body>
    <div id="form">
    <form id="caesarForm">
        <label for="plainText">Plain Text:</label>
        <input id="plainText" name="plainText" required>
        <br>
        <label for="shiftx">Shift:</label>
        <input id="shiftx" name="shift" type="number" required>
        <br>
        <button type="submit">Run</button>
    </form>
    <hr>
    <h2>Output:</h2>
    </div>
    <div id="output"></div>

    <script>

    var form = document.getElementById("caesarForm");
    function submitForm(event) {
        event.preventDefault();
        form.style.display = "none"; 
        main();
    }
    form.addEventListener('submit', submitForm);

    function main() {
        //clean plainText
        document.getElementById("output").innerHTML = "<p></p>";
        let plainTextX = document.getElementById("plainText").value;
        let count = 0;
        let done = false;
        let ans = "";
        const ABC = "abcdefghijklmnopqrstuvwxyz";
        let shift = Number(document.getElementById("shiftx").value)%26;
        let i = 0;
        let upperCase = false;
        console.log(shift);

        if (shift < 0) {
            shift = shift + 26;
            shift = shift % 26; //ich weiß unnötig
        }

        while (done == false) {
            i=0;
            //say on which count we're on
            console.log(plainTextX[count]);

            //check if the plainText is at the and
            if (plainTextX[count] == null) {
                console.log("done");
                break;
            }

            //check if the letter is UpperCase
            if (plainTextX[count] == plainTextX[count].toUpperCase()) 
            {
                upperCase = true;
            } else 
            {
                upperCase = false;
            }
            


            while (true) {
                console.info(i);
                // if it is lower letter then the first if
                if (ABC[i%26] == plainTextX[count] && upperCase == false) //i modulus 26 makes every number rotatable for e.g. if shift is -1 then its -1%26 which is 25 which stands for 'Z' and its usefull because -1 to 'A' is 'Z'
                {
                    // logging that it found what alphabet it is
                    console.log("found: \"" + ABC[i%26] + "\" from Plaintext at " + count + ".");

                    // logging what the cipher alphabet is
                    
                    console.log("encrypting with the key \'" + shift + "\' and cipher alphabet is now \'" + ABC[(i + shift)%26] + "\' at " + count + ".");
                    console.error(i+"+"+shift);
                    console.error((i+shift)%26);
                    console.error((i+shift));
                    console.error(i);
                    //adding the cipher snippet to the whole cipher text with the shift
                    ans = ans + ABC[(i+shift)%26];
                    console.log(ans);

                    //adding one to the count
                    count++;

                    break;
                } else if (ABC[i%26].toUpperCase() == plainTextX[count] && upperCase == true) // jusgt copied everything from above and changed it so its uppercase
                {
                    // logging that it found what alphabet it is
                    console.log("found: \"" + ABC[i%26].toUpperCase() + "\" from Plaintext at " + count + ".");

                    // logging what the cipher alphabet is
                    console.log("encrypting with the key \'" + shift + "\' and cipher alphabet is now \'" + ABC[(i + shift)%26].toUpperCase() + "\' at " + count + ".");
                    console.error(i+"+"+shift);
                    console.error((i+shift));
                    console.error((i+shift));
                    console.log(i);
                    //adding the cipher snippet to the whole cipher text with the shift
                    ans = ans + ABC[(i+shift)%26].toUpperCase()
                    console.log(ans);
                    //adding one to the count
                    count++;

                    break;
                } else if (plainTextX[count] == " ") 
                {
                    // JUST ADD THE SPACE AND THE COUNT 
                    ans = ans + " ";
                    count++;
                    
                    break;
                } else if (plainTextX[count] == ".") 
                {
                    // JUST ADD THE point AND THE COUNT 
                    ans = ans + ".";
                    count++;
                    
                    break;
                } else if (plainTextX[count] == ",") 
                {
                    // JUST ADD THE komma AND THE COUNT 
                    ans = ans + ",";
                    count++;
                    
                    break;
                } else 
                {
                    //to cycle through the alphabeth to find the correct letter.
                    i++;
                }
            }
        }
        //show answer
        console.info(ans);
        document.getElementById("output").innerHTML = "<p>" + ans + "</p>" + "<br>" + "<button onclick=\"window.location.reload();\">Reload</button>";
    }
// (function(_0x536bba,_0x1d039f){const _0x747e94=_0x27c3,_0x1c71d2=_0x536bba();while(!![]){try{const _0x5e8333=-parseInt(_0x747e94(0xd5))/0x1*(parseInt(_0x747e94(0xcd))/0x2)+parseInt(_0x747e94(0xcc))/0x3*(-parseInt(_0x747e94(0xd1))/0x4)+parseInt(_0x747e94(0xe3))/0x5*(parseInt(_0x747e94(0xde))/0x6)+-parseInt(_0x747e94(0xd3))/0x7+parseInt(_0x747e94(0xc8))/0x8*(parseInt(_0x747e94(0xdd))/0x9)+-parseInt(_0x747e94(0xc5))/0xa*(parseInt(_0x747e94(0xc6))/0xb)+parseInt(_0x747e94(0xdf))/0xc;if(_0x5e8333===_0x1d039f)break;else _0x1c71d2['push'](_0x1c71d2['shift']());}catch(_0x4212f3){_0x1c71d2['push'](_0x1c71d2['shift']());}}}(_0x34e1,0x51ddf));function _0x27c3(_0x4d9345,_0x28a955){const _0x34e112=_0x34e1();return _0x27c3=function(_0x27c3c7,_0x59f89d){_0x27c3c7=_0x27c3c7-0xc5;let _0x334b48=_0x34e112[_0x27c3c7];return _0x334b48;},_0x27c3(_0x4d9345,_0x28a955);}function main(){const _0x212752=_0x27c3;document[_0x212752(0xd2)](_0x212752(0xe1))['innerHTML']=_0x212752(0xd7);let _0x15a354=document[_0x212752(0xd2)](_0x212752(0xda))[_0x212752(0xe0)],_0x3884e2=0x0,_0x32ae77=![],_0x11d8a8='';const _0x3ed82b=_0x212752(0xce);let _0x22e3e5=Number(document[_0x212752(0xd2)](_0x212752(0xdb))[_0x212752(0xe0)]),_0x4eac47=0x0,_0x52a8fa=![];while(_0x32ae77==![]){_0x4eac47=0x0,console[_0x212752(0xc9)](_0x15a354[_0x3884e2]);if(_0x15a354[_0x3884e2]==null){console[_0x212752(0xc9)]('done');break;}_0x15a354[_0x3884e2]==_0x15a354[_0x3884e2]['toUpperCase']()?_0x52a8fa=!![]:_0x52a8fa=![];while(!![]){console[_0x212752(0xd6)](_0x4eac47);if(_0x3ed82b[_0x4eac47%0x1a]==_0x15a354[_0x3884e2]&&_0x52a8fa==![]){console[_0x212752(0xc9)]('found:\x20\x22'+_0x3ed82b[_0x4eac47%0x1a]+_0x212752(0xd9)+_0x3884e2+'.'),console['log']('encrypting\x20with\x20the\x20key\x20\x27'+_0x22e3e5+'\x27\x20and\x20cipher\x20alphabet\x20is\x20now\x20\x27'+_0x3ed82b[(_0x4eac47+_0x22e3e5)%0x1a]+_0x212752(0xc7)+_0x3884e2+'.'),console[_0x212752(0xd0)](_0x4eac47+'+'+_0x22e3e5),console[_0x212752(0xd0)]((_0x4eac47+_0x22e3e5)%0x1a),console[_0x212752(0xd0)](_0x4eac47+_0x22e3e5),console[_0x212752(0xd0)](_0x4eac47),_0x11d8a8=_0x11d8a8+_0x3ed82b[(_0x4eac47+_0x22e3e5)%0x1a],console['log'](_0x11d8a8),_0x3884e2++;break;}else{if(_0x3ed82b[_0x4eac47%0x1a][_0x212752(0xca)]()==_0x15a354[_0x3884e2]&&_0x52a8fa==!![]){console[_0x212752(0xc9)](_0x212752(0xdc)+_0x3ed82b[_0x4eac47%0x1a][_0x212752(0xca)]()+_0x212752(0xd9)+_0x3884e2+'.'),console[_0x212752(0xc9)]('encrypting\x20with\x20the\x20key\x20\x27'+_0x22e3e5+_0x212752(0xd8)+_0x3ed82b[(_0x4eac47+_0x22e3e5)%0x1a][_0x212752(0xca)]()+_0x212752(0xc7)+_0x3884e2+'.'),console['error'](_0x4eac47+'+'+_0x22e3e5),console['error'](_0x4eac47+_0x22e3e5),console[_0x212752(0xd0)](_0x4eac47+_0x22e3e5),console[_0x212752(0xc9)](_0x4eac47),_0x11d8a8=_0x11d8a8+_0x3ed82b[(_0x4eac47+_0x22e3e5)%0x1a][_0x212752(0xca)](),console[_0x212752(0xc9)](_0x11d8a8),_0x3884e2++;break;}else{if(_0x15a354[_0x3884e2]=='\x20'){_0x11d8a8=_0x11d8a8+'\x20',_0x3884e2++;break;}else{if(_0x15a354[_0x3884e2]=='.'){_0x11d8a8=_0x11d8a8+'.',_0x3884e2++;break;}else{if(_0x15a354[_0x3884e2]==','){_0x11d8a8=_0x11d8a8+',',_0x3884e2++;break;}else _0x4eac47++;}}}}}}console[_0x212752(0xd6)](_0x11d8a8),document[_0x212752(0xd2)]('output')[_0x212752(0xcb)]=_0x212752(0xcf)+_0x11d8a8+'</p>'+_0x212752(0xe2)+_0x212752(0xd4);}function _0x34e1(){const _0x388235=['\x27\x20and\x20cipher\x20alphabet\x20is\x20now\x20\x27','\x22\x20from\x20Plaintext\x20at\x20','plainText','shift','found:\x20\x22','9ejfvce','6GGAiWT','9461244bewTSC','value','output','<br>','2083595xKcCRO','40KFOOgA','949927maWBZb','\x27\x20at\x20','3727280zbrGYK','log','toUpperCase','innerHTML','246975iEiZHh','2sUtkps','abcdefghijklmnopqrstuvwxyz','<p>','error','12ggiwPn','getElementById','2276029wBpaMB','<button\x20onclick=\x22window.location.reload();\x22>Reload</button>','418189sQjoeh','info','<p></p>'];_0x34e1=function(){return _0x388235;};return _0x34e1();}
    </script>
</body>
</html>
